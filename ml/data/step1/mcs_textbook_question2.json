[
    {
        "id": 0,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## PLCController. PLC(Programmable Logic Controller) 센서 값을 관리하는 API입니다.\n### 1. PUT /api/PLC/sensorvalue\n\n센서 값을 업데이트합니다.\n\n**Endpoint:** `PUT /api/PLC/sensorvalue`\n\n**Request Body:**\n```json\n{\n  \"SensorId\": 1001,\n  \"Current\": \"25.5\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Success\": true,\n  \"Error\": null\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- 센서 값을 PLC에 기록하고 결과를 반환합니다.\n\n---\n\n",
        "textbook": "## [API] PLC 센서 값 갱신 (Update PLC Sensor Value)\n\n**1. 개요 (Overview)**\n`PUT /api/PLC/sensorvalue` API는 MCS(Material Control System)가 관리하는 특정 PLC(Programmable Logic Controller) 센서의 현재 상태 값을 강제로 갱신하거나 보정하는 기능을 수행한다. 이 API는 물리적 센서 데이터의 소프트웨어적 오버라이드(Override) 또는 시뮬레이션 환경에서의 가상 데이터 주입을 위해 사용된다.\n\n**2. 요청 명세 (Request Specification)**\n- **Endpoint:** `/api/PLC/sensorvalue`\n- **Method:** `PUT`\n- **Header:**\n  - `Content-Type`: `application/json`\n  - `Authorization`: `Bearer {JWT_Token}` (필수: 유효한 사용자 인증 토큰)\n- **Body Parameters:**\n\n| Parameter | Type | Required | Description |\n| :--- | :--- | :--- | :--- |\n| `SensorId` | Integer | **Yes** | 값을 갱신할 대상 센서의 고유 식별자 (PLC 레지스터 매핑 ID) |\n| `Current` | String | **Yes** | 갱신할 센서의 측정값 (실수형 데이터도 문자열 형태로 전송) |\n\n**3. 사용 사례 (Use Case)**\n이 API는 BMA 공정 중 다음과 같은 상황에서 주로 호출된다:\n- **센서 보정 (Calibration):** 물리적 센서의 노후화나 오차로 인해, 시스템 상에서 인식해야 하는 기준값으로 강제 보정이 필요한 경우.\n- **수동 오버라이드 (Manual Override):** 센서 고장으로 인해 공정이 중단되었을 때, 운영자가 수동으로 '정상' 또는 특정 수치를 입력하여 공정 로직(Interlock)을 우회하고 AMR을 이동시켜야 하는 경우.\n- **시뮬레이션 (Simulation):** 실제 하드웨어 연결 없이 MCS 로직을 테스트하기 위해 가상의 온도, 압력, 위치 값을 PLC 메모리에 주입하는 경우.\n\n**4. 요청 예시 (Request Body Example)**\n다음은 ID가 `1001`인 온도 센서의 값을 `25.5`도로 갱신하는 요청 예시이다.\n\n```json\n{\n  \"SensorId\": 1001,\n  \"Current\": \"25.5\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n요청이 성공적으로 PLC에 반영되었을 경우의 응답이다.\n\n```json\n{\n  \"Success\": true,\n  \"Error\": null\n}\n```",
        "questions": [
            "MCS(Material Control System)를 통한 'PLC 센서 값 갱신(Update PLC Sensor Value) API'의 명세와 활용 시나리오 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "API를 통해 주입된 데이터가 PLC 레지스터에 반영되는 과정과, 이것이 실제 공정 로직 및 AMR 제어 시스템 내에서 어떻게 상호작용하는지 그 흐름을 공학적으로 분석하시오.",
            "센서 고장 또는 물리적 오차 발생 시, 수동 오버라이드(Manual Override)를 통해 공정 인터락(Interlock)을 우회하는 논리적 판단 과정과 시스템의 단계별 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 1,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 1. GET /api/Object/Hello\n\n서버 연결 테스트용 헬로우 API입니다.\n\n**Endpoint:** `GET /api/Object/Hello`\n\n**Response:**\n```json\n\"Hello, World\"\n```\n\n**인증:** 불필요\n\n---\n\n",
        "textbook": "## [API] 서버 연결 상태 확인 (Server Connectivity Check)\n\n**1. 개요 (Overview)**\n`GET /api/Object/Hello` API는 MCS(Material Control System) 백엔드 서버의 가용성(Availability)을 확인하고, 클라이언트(AMR, 관제 PC 등)와 서버 간의 네트워크 연결 상태를 점검하기 위한 진단용 인터페이스(Health Check)이다. 별도의 인증 절차 없이 호출 가능하므로 시스템 초기화 단계나 네트워크 트러블슈팅 시 가장 먼저 수행된다.\n\n**2. 요청 명세 (Request Specification)**\n- **Endpoint:** `/api/Object/Hello`\n- **Method:** `GET`\n- **Header:**\n  - `Content-Type`: `application/json` (권장)\n  - **Authorization:** 불필요 (Anonymous Access Allowed)\n- **Query Parameters:** 없음\n- **Body Parameters:** 없음 (Empty Body)\n\n**3. 사용 사례 (Use Case)**\n- **시스템 초기화 (System Initialization):** 에이전트나 관제 클라이언트가 부팅된 직후, 주요 로직을 수행하기 전에 서버가 정상적으로 응답하는지 확인하기 위해 호출한다.\n- **네트워크 진단 (Network Diagnostics):** 로봇 제어 명령이 실패하거나 타임아웃이 발생할 때, 문제의 원인이 서버 다운인지 단순 명령 오류인지 판별하기 위한 'Ping' 용도로 사용한다.\n- **하트비트 모니터링 (Heartbeat Monitoring):** 외부 모니터링 시스템이 주기적으로 이 API를 호출하여 MCS 서버의 생존 여부를 기록한다.\n\n**4. 요청 및 응답 예시 (Request & Response Example)**\n\n**Request (HTTP)**\n```http\nGET /api/Object/Hello HTTP/1.1\nHost: {MCS_Server_IP}\nAccept: application/json\n```\n\n**Response (JSON)**\n> 서버가 정상 작동 중일 경우, 아래와 같은 문자열을 반환한다.\n```json\n\"Hello, World\"\n```",
        "questions": [
            "MCS 백엔드 서버의 가용성 진단을 위한 '서버 연결 상태 확인(Server Connectivity Check)' API의 전반적인 사양과 운영 목적에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "시스템 초기화 및 네트워크 트러블슈팅 과정에서 /api/Object/Hello 인터페이스가 클라이언트와 서버 간의 통신 무결성을 검증하는 작동 원리와 시스템적 상호작용을 공학적으로 분석하시오.",
            "로봇 제어 명령 실패 또는 타임아웃 발생 시, 해당 API를 통한 네트워크 진단 결과가 시스템의 문제 원인 판별 및 후속 대응 로직에 미치는 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 2,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 2. GET /api/Object/places\n\n모든 장소(Place) 정보를 조회합니다.\n\n**Endpoint:** `GET /api/Object/places`\n\n**Response:**\n```json\n[\n  {\n    \"Code\": \"P001\",\n    \"AlarmState\": \"Normal\",\n    \"ModeState\": \"Auto\",\n    \"PlaceRunState\": \"Run\",\n    \"LogisticsState\": \"Available\"\n  },\n  {\n    \"Code\": \"P002\",\n    \"AlarmState\": \"Warning\",\n    \"ModeState\": \"Manual\",\n    \"PlaceRunState\": \"Stop\",\n    \"LogisticsState\": \"Unavailable\"\n  }\n]\n```\n\n**인증:** 불필요\n\n**설명:**\n- 시스템에 등록된 모든 장소 정보를 반환합니다.\n- 비동기로 처리됩니다.\n\n---\n\n",
        "textbook": "## [API] 전체 장소 상태 조회 (Get All Places)\n\n**1. 개요 (Definition)**\n`GET /api/Object/places` API는 MCS(Material Control System)에 등록된 모든 물리적, 논리적 장소(Place)의 현재 상태 정보를 조회하는 인터페이스이다. 각 장소(Port, Station, Waypoint 등)의 알람 유무, 운영 모드, 실행 상태 및 물류 작업 가능 여부를 파악하여 시스템 전반의 가시성을 확보하는 데 사용된다.\n\n**2. 기술 명세 (Technical Specification)**\n- **Endpoint:** `/api/Object/places`\n- **Method:** `GET`\n- **Header:**\n  - `Content-Type`: `application/json`\n  - **Authentication:** 불필요 (Anonymous Access Allowed)\n- **Request Parameters:** 없음 (전체 조회)\n\n**3. 응답 데이터 명세 (Response Data Specification)**\n응답은 JSON Array 형태로 반환되며, 각 객체는 다음 필드를 포함한다.\n\n| 필드명 (Field) | 타입 (Type) | 설명 (Description) |\n| :--- | :--- | :--- |\n| `Code` | String | 장소의 고유 식별자 (예: P001, ST_CHG_01) |\n| `AlarmState` | String | 장소의 알람 상태 (예: `Normal`, `Warning`, `Error`) |\n| `ModeState` | String | 장소의 제어 모드 (예: `Auto`, `Manual`) |\n| `PlaceRunState` | String | 장소의 가동 상태 (예: `Run`, `Stop`) |\n| `LogisticsState` | String | 물류 작업 가능 여부 (예: `Available`, `Unavailable`) |\n\n**4. 사용 사례 (Use Case)**\n이 API는 다음과 같은 BMA 공정 시나리오에서 활용된다.\n- **관제 대시보드 갱신:** 공장 전체 맵(Map) 상에 각 설비(Port)나 대기 장소의 상태(고장, 수동 모드 등)를 실시간으로 시각화할 때 주기적으로 호출한다.\n- **미션 할당 전 유효성 검사:** 상위 시스템(WMS/MES)이 특정 장소로 AMR을 이동시키기 전, 해당 목적지가 현재 `LogisticsState: Available` 상태인지, `AlarmState: Normal`인지 사전에 검증하여 불필요한 미션 실패를 방지한다.\n\n**5. 응답 예시 (Response Body Example)**\n```json\n[\n  {\n    \"Code\": \"P001\",\n    \"AlarmState\": \"Normal\",\n    \"ModeState\": \"Auto\",\n    \"PlaceRunState\": \"Run\",\n    \"LogisticsState\": \"Available\"\n  },\n  {\n    \"Code\": \"P002\",\n    \"AlarmState\": \"Warning\",\n    \"ModeState\": \"Manual\",\n    \"PlaceRunState\": \"Stop\",\n    \"LogisticsState\": \"Unavailable\"\n  },\n  {\n    \"Code\": \"ST_CHG_01\",\n    \"AlarmState\": \"Normal\",\n    \"ModeState\": \"Auto\",\n    \"PlaceRunState\": \"Run\",\n    \"LogisticsState\": \"Available\"\n  }\n]\n```",
        "questions": [
            "MCS(Material Control System) 내 등록된 모든 장소의 상태 정보를 조회하는 'Get All Places' API의 기술 명세와 시스템 활용 방안에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "전체 장소 상태 조회 API가 반환하는 AlarmState, ModeState, PlaceRunState 데이터가 관제 시스템 및 상위 시스템(WMS/MES)의 의사결정 프로세스 내에서 어떻게 상호작용하는지 그 흐름을 공학적으로 분석하시오.",
            "특정 장소의 LogisticsState가 Unavailable로 전환되거나 AlarmState가 Error인 상황 발생 시, 미션 할당 유효성 검사 로직에서 발생할 수 있는 논리적 판단 과정과 시스템의 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 3,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 3. PUT /api/Object/place\n\n장소 정보를 업데이트합니다.\n\n**Endpoint:** `PUT /api/Object/place`\n\n**Request Body:**\n```json\n{\n  \"Code\": \"P001\",\n  \"AlarmState\": \"Normal\",\n  \"ModeState\": \"Auto\",\n  \"PlaceRunState\": \"Run\",\n  \"LogisticsState\": \"Available\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Place updated successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 특정 장소의 정보를 업데이트합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n\n---\n\n",
        "textbook": "## [API] 장소 상태 정보 갱신 (Update Place Status)\n\n**1. 개요 (Overview)**\n`PUT /api/Object/place` API는 MCS(Material Control System) 상에 등록된 특정 장소(Place)의 운영 상태 및 물류 속성을 갱신하는 인터페이스이다. 설비의 고장, 유지보수 모드 전환, 또는 자재 유무 변경 시 이 API를 호출하여 AMR(Autonomous Mobile Robot)이 해당 장소로 진입 가능한지 여부를 시스템에 동기화한다.\n\n**2. 요청 명세 (Request Specification)**\n- **Endpoint:** `/api/Object/place`\n- **Method:** `PUT`\n- **Header:**\n  - `Content-Type`: `application/json`\n  - `Authorization`: `Bearer {Access_Token}` (유효한 JWT 토큰 필수)\n- **Body Parameters:**\n\n| 파라미터명 | 타입 (Type) | 필수 여부 | 설명 |\n| :--- | :--- | :--- | :--- |\n| **`Code`** | String | **Required** | 상태를 변경할 장소의 고유 식별 코드 (예: Station ID, Port ID) |\n| **`AlarmState`** | String | Optional | 장소의 알람 상태 (예: `Normal`, `Error`, `Warning`) |\n| **`ModeState`** | String | Optional | 장소의 운영 모드 (예: `Auto`, `Manual`) |\n| **`PlaceRunState`** | String | Optional | 장소의 가동 상태 (예: `Run`, `Stop`, `Pause`) |\n| **`LogisticsState`** | String | Optional | 물류 가용 상태 (예: `Available`, `Full`, `Empty`, `Reserved`) |\n\n**3. 사용 사례 (Use Case)**\n- **설비 유지보수 전환:** 특정 포트(`P001`)에서 설비 점검이 시작되어, AMR의 접근을 막기 위해 `ModeState`를 `Manual`로, `PlaceRunState`를 `Stop`으로 변경해야 할 때 사용한다.\n- **에러 복구:** 설비 알람이 해제된 후, 시스템 상의 상태를 정상화하기 위해 `AlarmState`를 `Normal`로 리셋할 때 사용한다.\n- **자재 상태 동기화:** 센서에 의해 자재가 감지되었을 때, `LogisticsState`를 업데이트하여 후속 공정(AMR 픽업 등)을 트리거하기 위해 사용한다.\n\n**4. 요청 예시 (Request Body Example)**\n다음은 장소 코드 `P001`을 정상 가동(Auto/Run) 상태로 설정하고, 물류 작업을 수행할 수 있음(Available)으로 갱신하는 예시이다.\n\n```json\n{\n  \"Code\": \"P001\",\n  \"AlarmState\": \"Normal\",\n  \"ModeState\": \"Auto\",\n  \"PlaceRunState\": \"Run\",\n  \"LogisticsState\": \"Available\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n요청이 성공적으로 처리되었을 경우의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Place updated successfully\"\n}\n```",
        "questions": [
            "MCS(Material Control System) 내 장소 상태 정보 갱신을 위한 'Update Place Status' API의 명세와 운영 시나리오 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "장소의 고유 식별 코드(Code)를 기반으로 AlarmState, ModeState, LogisticsState 등 주요 파라미터가 AMR의 경로 생성 및 작업 할당 시스템 내에서 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "설비 고장이나 유지보수 모드 전환과 같은 예외 상황 발생 시, API를 통한 상태 갱신이 AMR의 진입 차단 및 시스템 안전 인터락으로 이어지는 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 4,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 4. GET /api/Object/Call\n\n모든 호출(Call) 정보를 조회합니다.\n\n**Endpoint:** `GET /api/Object/Call`\n\n**Response:**\n```json\n[\n  {\n    \"CODE\": \"AA001_20250319_P001\",\n    \"CALL_DT\": \"20250319\",\n    \"CALL_ID\": \"AA001\",\n    \"CALL_TYPE\": \"1\",\n    \"CALLER\": \"PLC_01\",\n    \"CALL_PLACE\": \"P001\",\n    \"PARAM\": \"0\",\n    \"CALL_QUANTITY\": 1,\n    \"CALL_PRIORITY\": 5,\n    \"REPEAT_COUNT\": 0,\n    \"REPEAT_DELAY\": 0,\n    \"USE_YN\": \"Y\",\n    \"STS\": \"A\",\n    \"REG_ID\": \"SYSTEM\",\n    \"REG_DT\": \"2025-03-19T10:30:00\",\n    \"MOD_ID\": \"SYSTEM\",\n    \"MOD_DT\": \"2025-03-19T10:30:00\",\n    \"MISSION\": \"M001\",\n    \"SUBMISSION\": \"SUB001\",\n    \"STATE\": \"ASSIGNED\",\n    \"UPDATE_DT\": \"2025-03-19T10:30:15\",\n    \"GROUP\": \"GROUP_A\"\n  }\n]\n```\n\n**인증:** 불필요\n\n**설명:**\n- 시스템의 모든 호출 정보를 반환합니다.\n- 비동기로 처리됩니다.\n- 500ms 캐싱이 적용됩니다.\n\n---\n\n",
        "textbook": "## [API] 전체 호출 정보 조회 (Retrieve All Calls)\n\n**1. 개요 (Definition)**\n`GET /api/Object/Call` API는 MCS(Material Control System)에 등록된 모든 자재 운송 요청(Call) 객체의 상세 정보와 현재 상태를 조회하는 인터페이스이다. 특정 시점의 전체 작업 대기열(Queue)을 확인하거나, 외부 시스템(PLC, MES)에서 요청한 작업이 정상적으로 등록 및 할당되었는지 모니터링하는 데 사용된다.\n\n**2. 기술 명세 (Technical Specification)**\n- **Endpoint:** `/api/Object/Call`\n- **Method:** `GET`\n- **Authentication:** 불필요 (Anonymous Access Allowed)\n- **Performance & Caching:**\n  - **비동기 처리(Async):** 요청은 비동기적으로 처리되어 시스템 부하를 최소화한다.\n  - **캐싱(Caching):** 데이터는 **500ms** 동안 캐싱된다. 따라서 호출 시점에 따라 최대 0.5초 전의 데이터가 반환될 수 있음을 고려해야 한다.\n\n**3. 응답 데이터 구조 (Response Data Structure)**\n응답은 JSON Array 형태이며, 각 객체는 다음과 같은 필드를 포함한다.\n\n| 필드명 | 타입 | 설명 |\n| :--- | :--- | :--- |\n| `CODE` | String | 호출 고유 식별 키 (Primary Key, 예: `AA001_20250319_P001`) |\n| `CALL_ID` | String | 호출 논리 ID (예: `AA001`) |\n| `CALL_TYPE` | String | 호출 유형 코드 (예: `1`=일반 운송, `2`=긴급 등) |\n| `CALLER` | String | 호출을 생성한 주체 (예: `PLC_01`, `MES`) |\n| `CALL_PLACE` | String | 작업 대상 위치 노드 ID (예: `P001`) |\n| `CALL_PRIORITY` | Integer | 작업 우선순위 (높을수록 우선 할당) |\n| `STS` | String | 레코드 상태 (예: `A`=Active) |\n| `STATE` | String | 작업 진행 상태 (예: `ASSIGNED`, `WAITING`, `COMPLETED`) |\n| `MISSION` | String | 해당 호출에 할당된 상위 미션 ID |\n| `GROUP` | String | 로봇 또는 작업 그룹 ID |\n\n**4. 사용 사례 (Use Case)**\n- **통합 관제 대시보드 구성:** 현재 시스템 내 대기 중이거나 진행 중인 모든 운송 요청 목록을 시각화할 때 사용한다.\n- **작업 누락 디버깅:** PLC가 작업을 요청했으나 로봇이 할당되지 않는 경우, 이 API를 호출하여 `STATE`가 `WAITING`인지, 혹은 `CALL_PRIORITY`가 낮게 설정되었는지 확인한다.\n- **교착 상태 분석:** 다수의 호출이 `ASSIGNED` 상태이나 진행되지 않는 경우, 전체 목록을 조회하여 병목 지점을 파악한다.\n\n**5. 응답 예시 (Response Body Example)**\n```json\n[\n  {\n    \"CODE\": \"AA001_20250319_P001\",\n    \"CALL_DT\": \"20250319\",\n    \"CALL_ID\": \"AA001\",\n    \"CALL_TYPE\": \"1\",\n    \"CALLER\": \"PLC_01\",\n    \"CALL_PLACE\": \"P001\",\n    \"PARAM\": \"0\",\n    \"CALL_QUANTITY\": 1,\n    \"CALL_PRIORITY\": 5,\n    \"REPEAT_COUNT\": 0,\n    \"REPEAT_DELAY\": 0,\n    \"USE_YN\": \"Y\",\n    \"STS\": \"A\",\n    \"REG_ID\": \"SYSTEM\",\n    \"REG_DT\": \"2025-03-19T10:30:00\",\n    \"MOD_ID\": \"SYSTEM\",\n    \"MOD_DT\": \"2025-03-19T10:30:00\",\n    \"MISSION\": \"M001\",\n    \"SUBMISSION\": \"SUB001\",\n    \"STATE\": \"ASSIGNED\",\n    \"UPDATE_DT\": \"2025-03-19T10:30:15\",\n    \"GROUP\": \"GROUP_A\"\n  }\n]\n```",
        "questions": [
            "MCS(Material Control System) 내 자재 운송 요청 객체의 상태 관리 및 '전체 호출 정보 조회(Retrieve All Calls)' API의 기술적 사양에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "비동기 처리 방식과 500ms 캐싱 메커니즘이 적용된 API 환경에서, 외부 시스템(PLC, MES)의 요청 데이터가 시스템 내 작업 대기열(Queue)로 등록되고 미션(Mission)에 할당되는 과정의 작동 원리와 시스템적 상호작용을 공학적으로 분석하시오.",
            "PLC의 작업 요청에도 불구하고 로봇 할당이 지연되는 상황 발생 시, STATE 필드의 변화와 CALL_PRIORITY 설정값에 따른 시스템의 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 5,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 5. GET /api/Object/Mission\n\n모든 미션(Mission) 정보를 조회합니다.\n\n**Endpoint:** `GET /api/Object/Mission`\n\n**Response:**\n```json\n[\n  {\n    \"CODE\": \"CMD_20250319_001\",\n    \"CONTROLLER\": \"RCS_01\",\n    \"SUBJECT\": \"MOVE\",\n    \"CONTENT\": \"{\\\"from\\\":\\\"P001\\\",\\\"to\\\":\\\"P002\\\"}\",\n    \"PARAM1\": \"P001\",\n    \"PARAM2\": \"P002\",\n    \"NEED_ACK_YN\": \"Y\",\n    \"USE_YN\": \"Y\",\n    \"STS\": \"A\",\n    \"REG_ID\": \"SYSTEM\",\n    \"REG_DT\": \"2025-03-19T10:30:00\",\n    \"MOD_ID\": \"SYSTEM\",\n    \"MOD_DT\": \"2025-03-19T10:30:00\",\n    \"RUN_STATE\": \"RUNNING\",\n    \"RETRY_COUNT\": 0,\n    \"ASSIGNED_WORKER\": \"AMR_001\",\n    \"RESPONSE_CONTROLLER\": \"RCS_01\",\n    \"RESPONSE_SUBJECT\": \"MOVE_ACK\",\n    \"RESPONSE_MESSAGE\": \"Command received\",\n    \"START_DT\": \"2025-03-19T10:30:05\",\n    \"END_DT\": \"0001-01-01T00:00:00\",\n    \"DATA_1\": \"MOVING\",\n    \"DATA_2\": null,\n    \"UPDATE_DT\": \"2025-03-19T10:30:15\"\n  }\n]\n```\n\n**인증:** 불필요\n\n**설명:**\n- 시스템의 모든 미션(명령) 정보를 반환합니다.\n- 비동기로 처리됩니다.\n- 500ms 캐싱이 적용됩니다.\n\n---\n\n",
        "textbook": "## [API] 전체 미션 목록 조회 (Retrieve All Missions)\n\n**1. 개요 (Overview)**\n`GET /api/Object/Mission` API는 MCS(Material Control System)에 등록된 모든 미션(Mission) 객체의 상세 정보를 조회하는 인터페이스이다. 시스템 내에서 생성된 명령(Command)의 생명주기, 할당된 작업자(AMR), 실행 상태(`RUN_STATE`), 그리고 타임스탬프 정보를 반환하여 전체 공정의 흐름을 모니터링하는 데 사용된다.\n\n**2. 기술 명세 (Technical Specification)**\n- **Endpoint:** `/api/Object/Mission`\n- **Method:** `GET`\n- **Authentication:** 불필요 (Internal Network Trust)\n- **Performance:**\n  - **Caching:** 500ms (서버 부하 방지를 위해 0.5초 간격의 데이터 스냅샷 제공)\n  - **Processing:** 비동기(Asynchronous) 데이터 조회\n- **Request Parameters:** 없음 (Query String 또는 Body 불필요)\n\n**3. 응답 데이터 명세 (Response Data Structure)**\n응답은 JSON Array 형태이며, 주요 필드는 다음과 같다.\n\n| 필드명 | 타입 | 설명 |\n| :--- | :--- | :--- |\n| `CODE` | String | 미션 고유 식별자 (예: `CMD_20250319_001`) |\n| `CONTROLLER` | String | 명령을 관장하는 제어기 ID (예: `RCS_01`) |\n| `SUBJECT` | String | 명령의 주제/유형 (예: `MOVE`, `LIFT`) |\n| `CONTENT` | JSON String | 명령의 세부 파라미터 (출발지, 목적지 등) |\n| `RUN_STATE` | String | 현재 미션의 실행 상태 (예: `RUNNING`, `COMPLETED`, `ERROR`) |\n| `ASSIGNED_WORKER` | String | 미션을 수행 중인 AMR ID |\n| `STS` | String | 레코드 상태 코드 (예: `A` = Active) |\n| `REG_DT` / `UPDATE_DT` | DateTime | 미션 생성 및 최종 수정 일시 |\n\n**4. 사용 사례 (Use Case)**\n- **실시간 관제 대시보드(Dashboard):** VMS(Vehicle Management System) 화면에서 현재 공장 내 모든 로봇의 작업 할당 현황과 진행률을 시각화하기 위해 주기적으로 폴링(Polling)한다.\n- **교착 상태(Deadlock) 분석:** 특정 로봇이 장시간 대기 중일 때, 해당 로봇(`ASSIGNED_WORKER`)에 할당된 미션의 `RUN_STATE`와 `RESPONSE_MESSAGE`를 확인하여 시스템 오류인지 물리적 장애인지 판단한다.\n- **작업 이력 감사(Audit):** 완료된 미션의 `START_DT`와 `END_DT`를 수집하여 로봇의 가동률(OEE) 및 작업 효율성을 분석한다.\n\n**5. 응답 예시 (Response Example)**\n```json\n[\n  {\n    \"CODE\": \"CMD_20250319_001\",\n    \"CONTROLLER\": \"RCS_01\",\n    \"SUBJECT\": \"MOVE\",\n    \"CONTENT\": \"{\\\"from\\\":\\\"P001\\\",\\\"to\\\":\\\"P002\\\"}\",\n    \"PARAM1\": \"P001\",\n    \"PARAM2\": \"P002\",\n    \"NEED_ACK_YN\": \"Y\",\n    \"USE_YN\": \"Y\",\n    \"STS\": \"A\",\n    \"REG_ID\": \"SYSTEM\",\n    \"REG_DT\": \"2025-03-19T10:30:00\",\n    \"MOD_ID\": \"SYSTEM\",\n    \"MOD_DT\": \"2025-03-19T10:30:00\",\n    \"RUN_STATE\": \"RUNNING\",\n    \"RETRY_COUNT\": 0,\n    \"ASSIGNED_WORKER\": \"AMR_001\",\n    \"RESPONSE_CONTROLLER\": \"RCS_01\",\n    \"RESPONSE_SUBJECT\": \"MOVE_ACK\",\n    \"RESPONSE_MESSAGE\": \"Command received\",\n    \"START_DT\": \"2025-03-19T10:30:05\",\n    \"END_DT\": \"0001-01-01T00:00:00\",\n    \"DATA_1\": \"MOVING\",\n    \"DATA_2\": null,\n    \"UPDATE_DT\": \"2025-03-19T10:30:15\"\n  }\n]\n```",
        "questions": [
            "MCS(Material Control System) 내 미션 객체 관리를 위한 '전체 미션 목록 조회(Retrieve All Missions) API'의 기술적 사양과 운영 메커니즘에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "비동기 데이터 조회 방식과 500ms 캐싱 정책이 적용된 API가 실시간 관제 대시보드 및 VMS(Vehicle Management System)와 상호작용하며 시스템 부하를 최소화하는 공학적 원리를 분석하시오.",
            "특정 AMR의 작업 지연이나 교착 상태(Deadlock) 발생 시, RUN_STATE와 RESPONSE_MESSAGE 필드를 활용하여 시스템 오류와 물리적 장애를 판별하는 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 6,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 6. GET /api/Object/callplaces\n\n호출 장소의 상태 정보를 조회합니다.\n\n**Endpoint:** `GET /api/Object/callplaces`\n\n**Response:**\n```json\n[\n  {\n    \"Place\": \"P001\",\n    \"MachineRequest\": 1,\n    \"AMRResponse\": 2,\n    \"PLCMode\": 1,\n    \"DockRequest\": 0\n  },\n  {\n    \"Place\": \"P002\",\n    \"MachineRequest\": 258,\n    \"AMRResponse\": 1,\n    \"PLCMode\": 2,\n    \"DockRequest\": 1\n  }\n]\n```\n\n**인증:** 불필요\n\n**설명:**\n- 각 장소의 PLC 태그 정보를 조회합니다.\n- 캐싱 기능이 적용되어 있습니다 (1.5초 간격).\n- MachineRequest는 여러 태그의 값을 합산합니다 (MachineRequest01, MachineRequest02, MachineRequest03).\n- DockRequest는 Docking Out 상태 표시를 위해 추가되었습니다.\n\n**PLC 태그 매핑:**\n- `{Place}.MachineRequest01`: 기계 요청 값 (하위 바이트)\n- `{Place}.MachineRequest02`: 기계 요청 값 (중위 바이트) × 256\n- `{Place}.MachineRequest03`: 기계 요청 값 (상위 바이트) × 256²\n- `{Place}.AMRResponse` 또는 `{Place}.AMRResponse01`: AMR 응답 값\n- `{Place}.DockStatus`: PLC 모드\n- `{Place}.DockRequest`: 도킹 요청 값\n\n---\n\n",
        "textbook": "## [API] 호출 장소 상태 조회 (Get Call Places Status)\n\n**1. 개요 (Definition)**\n`GET /api/Object/callplaces` API는 MCS(Material Control System)에 등록된 모든 호출 장소(Call Places)의 실시간 PLC 신호 및 상태 정보를 일괄 조회하는 인터페이스이다. 설비(Machine)와 AMR 간의 핸드쉐이크(Handshake) 상태, 도킹 요청 여부, 그리고 PLC 모드 정보를 모니터링하여 시스템의 현재 운영 상황을 파악하는 데 사용된다.\n\n**2. 기술 명세 (Technical Specifications)**\n- **Endpoint:** `/api/Object/callplaces`\n- **Method:** `GET`\n- **Authentication:** 불필요 (Anonymous Access)\n- **Caching:** 서버 측에서 **1.5초** 간격으로 캐싱(Caching)된 데이터를 반환하므로, 최대 1.5초의 데이터 지연(Latency)이 발생할 수 있음.\n- **Request Parameters:** 없음 (No Query or Path parameters required)\n\n**3. 응답 데이터 명세 (Response Data Specification)**\n응답은 JSON Array 형태이며, 각 객체는 개별 장소의 상태를 나타낸다.\n\n| 필드명 (Field) | 타입 (Type) | 설명 (Description) |\n| :--- | :--- | :--- |\n| `Place` | String | 장소 식별자 (Location ID). |\n| `MachineRequest` | Integer | 설비(Machine)가 요청한 작업 값의 총합. <br>*(계산식: Request01 + (Request02 × 256) + (Request03 × 65536))* |\n| `AMRResponse` | Integer | 해당 장소에 대한 AMR의 응답 신호 값. |\n| `PLCMode` | Integer | PLC의 현재 모드 상태 (PLC Tag: `DockStatus` 매핑). |\n| `DockRequest` | Integer | 도킹(Docking Out) 요청 상태 값. |\n\n**4. 사용 사례 (Use Cases)**\n- **통합 관제 모니터링:** 대시보드에서 전체 공정의 설비 요청 상태와 AMR 응답 상태를 시각화할 때 주기적으로 호출.\n- **신호 디버깅:** 설비가 작업을 요청했으나 AMR이 배차되지 않는 경우, `MachineRequest` 값이 정상적으로 수신되고 있는지(비트 연산 오류 확인 등) 검증.\n- **도킹 프로세스 확인:** `DockRequest` 값을 통해 특정 장소에서 도킹 해제(Docking Out) 프로세스가 진행 중인지 확인.\n\n**5. 응답 예시 (Response Body Example)**\n```json\n[\n  {\n    \"Place\": \"P001\",\n    \"MachineRequest\": 1,\n    \"AMRResponse\": 2,\n    \"PLCMode\": 1,\n    \"DockRequest\": 0\n  },\n  {\n    \"Place\": \"P002\",\n    \"MachineRequest\": 258,\n    \"AMRResponse\": 1,\n    \"PLCMode\": 2,\n    \"DockRequest\": 1\n  }\n]\n```\n\n**6. 구현 참고 사항 (Implementation Notes)**\n- **MachineRequest 연산 로직:**\n  이 필드는 단일 PLC 태그가 아니라, 하위/중위/상위 바이트 태그의 조합으로 구성된다.\n  - `MachineRequest` = `MachineRequest01` (Low) + `MachineRequest02` (Mid) × $2^8$ + `MachineRequest03` (High) × $2^{16}$\n- **PLC 태그 매핑 정보:**\n  백엔드는 아래의 PLC 태그를 읽어 응답을 구성한다.\n  - `{Place}.MachineRequest01` ~ `03`: 기계 요청 값 구성 요소\n  - `{Place}.AMRResponse` (또는 `01`): AMR 응답\n  - `{Place}.DockStatus`: `PLCMode` 필드에 매핑\n  - `{Place}.DockRequest`: `DockRequest` 필드에 매핑",
        "questions": [
            "MCS(Material Control System) 내 호출 장소 상태 조회 API(Get Call Places Status)의 기술 명세와 데이터 구조 및 운영 목적에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "PLC 태그 데이터가 MachineRequest 필드로 통합되는 비트 연산 메커니즘과, 설비(Machine)와 AMR 간의 핸드쉐이크 신호가 시스템 내에서 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "설비의 작업 요청과 AMR 배차 간의 불일치나 데이터 지연 상황 발생 시, 캐싱 정책 및 PLC 태그 매핑 로직에 기반한 시스템의 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 7,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## ObjectController. 시스템 객체(장소, 호출, 미션 등)를 관리하는 API입니다.\n### 7. GET /api/Object/mcsalarms\n\nMCS 알람 정보를 조회합니다.\n\n**Endpoint:** `GET /api/Object/mcsalarms`\n\n**Response:**\n```json\n[\n  {\n    \"Id\": \"ALM_20250319_001\",\n    \"AlarmCode\": \"1001\",\n    \"Publisher\": \"MCS_SYSTEM\",\n    \"AlarmSource\": \"P001\",\n    \"AlarmData\": \"Communication timeout with PLC\",\n    \"AlarmRunState\": 1,\n    \"AlarmDt\": \"2025-03-19T10:25:30\",\n    \"ReleaseDt\": null,\n    \"Releaser\": null\n  },\n  {\n    \"Id\": \"ALM_20250319_002\",\n    \"AlarmCode\": \"2001\",\n    \"Publisher\": \"AMR_001\",\n    \"AlarmSource\": \"AMR_001\",\n    \"AlarmData\": \"Low battery warning\",\n    \"AlarmRunState\": 1,\n    \"AlarmDt\": \"2025-03-19T10:30:00\",\n    \"ReleaseDt\": null,\n    \"Releaser\": null\n  }\n]\n```\n\n**인증:** 불필요\n\n**설명:**\n- MCS 시스템의 알람 정보를 반환합니다.\n- 비동기로 처리됩니다.\n\n---\n\n",
        "textbook": "## [API] MCS 알람 정보 조회 (Retrieve MCS Alarms)\n\n**1. 개요 (Definition)**\n`GET /api/Object/mcsalarms` API는 MCS(Material Control System) 내에서 발생한 모든 시스템 및 장비(AMR)의 알람 이력을 조회하는 모니터링 인터페이스다. 시스템의 건전성(Health Check)을 확인하거나, 공정 중단 원인을 파악하기 위한 로그 데이터를 비동기적으로 반환한다.\n\n**2. 기술 명세 (Technical Specification)**\n- **Endpoint:** `/api/Object/mcsalarms`\n- **Method:** `GET`\n- **Authentication:** 불필요 (Anonymous Access Allowed)\n- **Request Parameters:** 없음 (None)\n- **Response Structure (JSON Array):**\n  응답은 알람 객체의 배열로 반환되며, 각 객체는 다음 필드를 포함한다.\n\n| 필드명 (Field) | 타입 (Type) | 설명 (Description) |\n| :--- | :--- | :--- |\n| `Id` | String | 알람 고유 식별자 (예: ALM_YYYYMMDD_SEQ) |\n| `AlarmCode` | String | 알람 유형을 구분하는 표준 코드 |\n| `Publisher` | String | 알람을 발행한 주체 (예: MCS_SYSTEM, AMR_ID) |\n| `AlarmSource` | String | 알람이 발생한 물리적/논리적 위치 또는 장비명 |\n| `AlarmData` | String | 알람 상세 메시지 또는 에러 로그 |\n| `AlarmRunState` | Integer | 알람 활성화 상태 (1: 발생 중/Active, 0: 해제됨/Cleared) |\n| `AlarmDt` | DateTime | 알람 발생 시각 (ISO 8601 형식) |\n| `ReleaseDt` | DateTime | 알람 해제 시각 (Null일 경우 현재 활성 상태) |\n| `Releaser` | String | 알람을 해제한 주체 (사용자 ID 또는 시스템) |\n\n**3. 사용 사례 (Use Case)**\n- **실시간 관제 대시보드:** 운영자가 현재 공장 내에서 발생 중인 에러(예: PLC 통신 두절, 배터리 부족 등)를 실시간으로 시각화하여 모니터링할 때 사용한다.\n- **장애 원인 분석 (Root Cause Analysis):** 특정 AMR이 작업을 멈추거나 지연되었을 때, 해당 시점(`AlarmDt`)에 발생한 경고 메시지(`AlarmData`)를 조회하여 하드웨어 고장인지 통신 문제인지 진단한다.\n- **유지보수 이력 관리:** 주기적으로 알람 로그를 수집하여 장비별 고장 빈도를 분석하고 예방 정비 계획을 수립한다.\n\n**4. 응답 예시 (Response Body Example)**\n요청 성공 시, 시스템에 기록된 알람 리스트를 반환한다.\n\n```json\n[\n  {\n    \"Id\": \"ALM_20250319_001\",\n    \"AlarmCode\": \"1001\",\n    \"Publisher\": \"MCS_SYSTEM\",\n    \"AlarmSource\": \"P001\",\n    \"AlarmData\": \"Communication timeout with PLC\",\n    \"AlarmRunState\": 1,\n    \"AlarmDt\": \"2025-03-19T10:25:30\",\n    \"ReleaseDt\": null,\n    \"Releaser\": null\n  },\n  {\n    \"Id\": \"ALM_20250319_002\",\n    \"AlarmCode\": \"2001\",\n    \"Publisher\": \"AMR_001\",\n    \"AlarmSource\": \"AMR_001\",\n    \"AlarmData\": \"Low battery warning\",\n    \"AlarmRunState\": 1,\n    \"AlarmDt\": \"2025-03-19T10:30:00\",\n    \"ReleaseDt\": null,\n    \"Releaser\": null\n  }\n]\n```",
        "questions": [
            "MCS(Material Control System)의 알람 정보 조회 API(/api/Object/mcsalarms)의 기술 명세와 운영 활용 방안 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "MCS 알람 시스템에서 Publisher와 AlarmSource 필드가 정의되는 방식과, 발생 시각(AlarmDt)부터 해제 시각(ReleaseDt)까지의 데이터 생명주기가 전체 모니터링 시스템 내에서 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "PLC 통신 두절이나 배터리 부족과 같은 공정 중단 상황 발생 시, AlarmRunState의 변화에 따른 시스템의 논리적 판단 과정과 운영자의 장애 원인 분석(Root Cause Analysis) 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 8,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 1. PUT /api/Command/Move\n\nAMR 이동 명령을 전송합니다.\n\n**Endpoint:** `PUT /api/Command/Move`\n\n**Request Body:**\n```json\n{\n  \"Target\": \"AMR_001\",\n  \"Command\": \"move\",\n  \"Node\": {\n    \"ObjNo\": 1001,\n    \"X\": 1500,\n    \"Y\": 2000\n  }\n}\n```\n\n**Response:**\n```json\n{\n  \"Success\": true,\n  \"Error\": null\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- AMR에게 이동 명령을 전송합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n\n---\n\n",
        "textbook": "## [API] AMR 이동 명령 (Move Command)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/Move` API는 MCS(Material Control System)가 특정 AMR(Autonomous Mobile Robot)에게 물리적 이동을 지시하는 제어 인터페이스다. 지정된 로봇(`Target`)을 목표 노드(`Node`) 및 좌표(`X, Y`)로 주행하도록 명령하며, 자재 운송 프로세스의 시작점 또는 대기 위치 복귀 시 호출된다.\n\n**2. 요청 명세 (Request Specification)**\n\n*   **Endpoint:** `/api/Command/Move`\n*   **Method:** `PUT`\n*   **Content-Type:** `application/json`\n*   **Header:**\n    *   `Authorization`: `Bearer {JWT_Token}` (필수, 유효한 사용자 또는 시스템 토큰)\n\n*   **Body Parameters:**\n\n| Parameter | Type | Required | Description |\n| :--- | :--- | :---: | :--- |\n| **Target** | `String` | **Yes** | 제어 대상 AMR의 고유 식별자 (예: \"AMR_001\") |\n| **Command** | `String` | **Yes** | 수행할 명령의 종류. 이동 명령 시 `\"move\"` 고정 값 사용 |\n| **Node** | `Object` | **Yes** | 목표 위치 정보를 담은 객체 |\n| └ `ObjNo` | `Integer` | **Yes** | 맵 상의 노드(Node) 번호 또는 설비 포트 ID |\n| └ `X` | `Number` | **Yes** | 목표 지점의 X 좌표 (Global Map 기준) |\n| └ `Y` | `Number` | **Yes** | 목표 지점의 Y 좌표 (Global Map 기준) |\n\n**3. 사용 사례 (Use Case)**\n\n이 API는 BMA(Battery Manufacturing/Assembly) 공정 내 물류 흐름에서 다음과 같은 상황에 필수적으로 사용된다.\n\n1.  **자재 픽업 이동:** 창고 관리 시스템(WMS)으로부터 출고 요청이 발생했을 때, 대기 중인 AMR을 자재 적재 위치(Source Port)로 이동시키는 경우.\n2.  **공정 간 이송:** 전공정(예: 코팅)에서 후공정(예: 프레스)으로 롤(Roll)이나 매거진을 이송하기 위해, 적재된 AMR을 목적지 설비 앞으로 주행시키는 경우.\n3.  **대기 및 충전 복귀:** 작업이 없는 유휴 시간(Idle Time)에 트래픽 혼잡을 방지하기 위해 AMR을 지정된 대기 구역(Standby Node)으로 이동시키거나, 배터리 부족 시 충전 스테이션으로 이동시킬 때.\n\n**4. 요청 예시 (Request Body Example)**\n\n다음은 `AMR_001` 로봇을 노드 번호 `1001`번(좌표 1500, 2000)으로 이동시키는 실제 요청 JSON이다.\n\n```json\n{\n  \"Target\": \"AMR_001\",\n  \"Command\": \"move\",\n  \"Node\": {\n    \"ObjNo\": 1001,\n    \"X\": 1500,\n    \"Y\": 2000\n  }\n}\n```\n\n**5. 응답 예시 (Response Example)**\n\n명령이 시스템에 의해 성공적으로 수신되고 큐(Queue)에 등록되었을 때의 응답이다.\n\n```json\n{\n  \"Success\": true,\n  \"Error\": null\n}\n```",
        "questions": [
            "BMA 공정 내 물류 제어를 위한 'AMR 이동 명령(Move Command) API'의 규격과 활용 시나리오 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "MCS가 전송한 목표 노드 및 좌표 데이터가 AMR의 주행 제어 유닛으로 전달되어 물리적 이동으로 전환되는 과정과, 이 과정에서 Global Map 데이터가 시스템 내에서 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "자재 픽업, 공정 간 이송, 충전 복귀 등 주요 물류 시나리오에서 이동 명령이 호출되는 논리적 판단 근거와, 명령 수신 및 큐(Queue) 등록 과정에서 발생할 수 있는 예외 상황에 대한 시스템의 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 9,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 2. PUT /api/Command/CallState\n\n호출 상태를 변경합니다.\n\n**Endpoint:** `PUT /api/Command/CallState`\n\n**Request Body:**\n```json\n{\n  \"id\": \"REQ_001\",\n  \"call\": \"AA001_20250319_P001\",\n  \"state\": \"CANCELLED\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Call state changed successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 호출의 상태를 변경합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- state 값: WAITING, ASSIGNED, COMPLETED, CANCELLED 등\n\n---\n\n",
        "textbook": "## [API] 호출 상태 변경 (Change Call State)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/CallState` API는 MCS(Material Control System) 내에서 생성된 특정 자재 운송 요청(Call)의 생명주기 상태를 갱신하는 인터페이스다. 운영자가 수동으로 작업을 취소하거나, 시스템 로직에 의해 작업 상태를 강제로 동기화해야 할 때 사용된다.\n\n**2. 기술 명세 (Technical Specification)**\n- **Endpoint:** `/api/Command/CallState`\n- **Method:** `PUT`\n- **Content-Type:** `application/json`\n- **Header:** `Authorization: Bearer {Token}` (유효한 JWT 토큰 필수)\n- **Body Parameters:**\n\n| 파라미터 명 | 타입 (Type) | 필수 여부 | 설명 (Description) |\n| :--- | :--- | :--- | :--- |\n| `id` | String | **Required** | 해당 상태 변경 요청을 추적하기 위한 트랜잭션 ID (예: `REQ_001`) |\n| `call` | String | **Required** | 상태를 변경하고자 하는 대상 운송 요청(Call)의 고유 식별자 |\n| `state` | String | **Required** | 변경할 목표 상태 값 (Enum) <br> - `WAITING`: 대기 중 <br> - `ASSIGNED`: 할당됨 <br> - `COMPLETED`: 완료됨 <br> - `CANCELLED`: 취소됨 |\n\n**3. 사용 사례 (Use Case)**\n이 API는 다음과 같은 BMA 공정 시나리오에서 활용된다:\n1.  **작업 취소 (Cancellation):** 생산 계획 변경으로 인해 이미 생성된 자재 이송 요청(`WAITING` 상태)이 더 이상 필요 없을 때, 운영자가 해당 Call을 `CANCELLED`로 변경하여 AMR 할당을 방지한다.\n2.  **상태 강제 동기화 (Force Sync):** AMR이 네트워크 음영 지역에서 작업을 완료했으나 서버로 완료 신호를 보내지 못한 경우, 관리자가 육안 확인 후 해당 Call의 상태를 `COMPLETED`로 강제 업데이트하여 다음 공정을 진행시킨다.\n3.  **교착 상태 해결:** 특정 Call이 비정상적인 상태로 락(Lock)이 걸려있을 때, 이를 초기화하거나 종료 처리하기 위해 사용된다.\n\n**4. 요청 예시 (Request Body Example)**\n다음은 ID가 `AA001_20250319_P001`인 운송 요청을 '취소(CANCELLED)' 상태로 변경하는 JSON 요청 예시이다.\n\n```json\n{\n  \"id\": \"TRX_20250319_9981\",\n  \"call\": \"AA001_20250319_P001\",\n  \"state\": \"CANCELLED\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n요청이 성공적으로 처리되었을 경우의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Call state changed successfully\"\n}\n```",
        "questions": [
            "BMA 공정 내 MCS(Material Control System)의 자재 운송 요청 상태 관리를 위한 '호출 상태 변경(Change Call State) API' 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "운송 요청(Call)의 생명주기(WAITING, ASSIGNED, COMPLETED, CANCELLED)가 시스템 내에서 전이되는 메커니즘과, 각 상태 값이 AMR 할당 로직 및 상위 관제 시스템과 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "네트워크 음영 지역 발생이나 비정상적 락(Lock) 상황에서 데이터 불일치가 발생했을 때, 상태 강제 동기화 API를 통한 논리적 판단 과정과 시스템의 예외 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 10,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 3. PUT /api/Command/CommandState\n\n명령 상태를 변경합니다.\n\n**Endpoint:** `PUT /api/Command/CommandState`\n\n**Request Body:**\n```json\n{\n  \"id\": \"REQ_002\",\n  \"mission\": \"CMD_20250319_001\",\n  \"state\": \"PAUSED\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Command state changed successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 명령의 상태를 변경합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- state 값: READY, RUNNING, PAUSED, COMPLETED, FAILED 등\n\n---\n\n",
        "textbook": "## [API] 명령 상태 변경 (Change Command State)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/CommandState` API는 MCS(Material Control System) 내에서 관리되는 특정 미션(Mission)의 실행 라이프사이클 상태를 강제로 변경하는 제어 인터페이스이다. 관리자 또는 상위 시스템이 AMR의 작업을 일시 정지(PAUSE), 재개(RUNNING), 또는 강제 종료(FAILED/COMPLETED) 처리해야 할 때 사용된다.\n\n**2. 요청 명세 (Request Specification)**\n\n*   **Endpoint:** `/api/Command/CommandState`\n*   **Method:** `PUT`\n*   **Content-Type:** `application/json`\n*   **Header:**\n    *   `Authorization: Bearer {Token}` (유효한 JWT Access Token 필수)\n*   **Body Parameters:**\n\n| 파라미터 명 | 타입 (Type) | 필수 여부 | 설명 (Description) |\n| :--- | :--- | :---: | :--- |\n| `id` | String | **Required** | 요청 추적을 위한 고유 트랜잭션 ID (예: REQ_002) |\n| `mission` | String | **Required** | 상태를 변경할 대상 미션(Command)의 고유 ID |\n| `state` | String | **Required** | 변경하고자 하는 목표 상태 값<br/>**(허용 값: `READY`, `RUNNING`, `PAUSED`, `COMPLETED`, `FAILED`)** |\n\n**3. 사용 사례 (Use Case)**\n\n이 API는 BMA 공정 내에서 다음과 같은 예외 상황 처리 및 흐름 제어 시나리오에 필수적으로 사용된다.\n\n*   **긴급 일시 정지 (Pause):** AMR 이동 경로상에 예상치 못한 장애물이 감지되거나, 작업자가 유지보수를 위해 라인에 진입할 때 해당 로봇의 미션 상태를 `PAUSED`로 변경하여 대기시킨다.\n*   **작업 재개 (Resume):** 장애 요인이 제거된 후, `PAUSED` 상태인 미션을 다시 `RUNNING`으로 변경하여 공정을 계속 진행한다.\n*   **오류 처리 및 리소스 해제 (Force Fail):** 하드웨어 고장 등으로 미션 수행이 불가능한 경우, 상태를 `FAILED`로 강제 변경하여 시스템이 해당 로봇에 할당된 리소스를 해제하고 다음 작업을 스케줄링할 수 있도록 한다.\n\n**4. 요청 예시 (Request Body Example)**\n\n다음은 특정 미션(`CMD_20250319_001`)을 일시 정지(`PAUSED`) 상태로 변경하는 요청의 예시이다.\n\n```json\n{\n  \"id\": \"REQ_TRACE_8821\",\n  \"mission\": \"CMD_20250319_001\",\n  \"state\": \"PAUSED\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n\n요청이 성공적으로 처리되었을 경우의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Command state changed successfully\"\n}\n```",
        "questions": [
            "BMA 공정 자동화 시스템 내 MCS 미션 라이프사이클 관리를 위한 '명령 상태 변경(Change Command State) API' 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "상위 시스템의 상태 변경 요청이 MCS 내 미션 제어 로직에 반영되어 AMR의 물리적 동작 상태(READY, RUNNING, PAUSED 등)로 전이되는 작동 원리와 시스템적 상호작용을 공학적으로 분석하시오.",
            "AMR 이동 경로 내 장애물 감지나 하드웨어 고장 등 예외 상황 발생 시, 미션 상태를 PAUSED 또는 FAILED로 강제 변경해야 하는 논리적 판단 과정과 리소스 해제를 위한 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 11,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 4. PUT /api/Command/manualcall\n\n수동 호출을 생성합니다.\n\n**Endpoint:** `PUT /api/Command/manualcall`\n\n**Request Body:**\n```json\n{\n  \"id\": \"MANUAL_REQ_001\",\n  \"code\": \"MC001\",\n  \"place\": \"P001\",\n  \"payloadType\": \"PALLET\",\n  \"quantity\": \"2\",\n  \"param\": \"0\",\n  \"repeatCount\": 1,\n  \"repeatDelay\": 0\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Manual call created successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 수동으로 호출을 생성합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- repeatCount: 반복 횟수, repeatDelay: 반복 간 지연시간(초)\n\n---\n\n",
        "textbook": "## [API] 수동 호출 생성 (Create Manual Call)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/manualcall` API는 MCS(Material Control System)의 자동 스케줄링 로직을 우회하여, 운영자나 관리자가 직접 특정 작업(이송, 이동 등)에 대한 AMR 호출 명령을 생성하는 인터페이스이다. 요청자의 신원은 헤더의 JWT Token을 통해 식별되며, 단일 수행뿐만 아니라 반복 수행(Loop Test) 설정도 지원한다.\n\n**2. 기술 명세 (Technical Specification)**\n\n*   **Endpoint:** `/api/Command/manualcall`\n*   **Method:** `PUT`\n*   **Content-Type:** `application/json`\n*   **Header:**\n    *   `Authorization`: `Bearer {Access_Token}` (필수, 유효한 JWT 토큰)\n\n*   **Body Parameters:**\n\n| 파라미터 명 | 데이터 타입 | 필수 여부 | 설명 |\n| :--- | :--- | :--- | :--- |\n| `id` | String | **Required** | 요청을 식별하는 고유 ID (예: `MANUAL_REQ_{Timestamp}`) |\n| `code` | String | **Required** | 수행할 명령 코드 (예: 작업 유형 식별자) |\n| `place` | String | **Required** | 작업이 수행될 목표 위치(Node ID 또는 Station ID) |\n| `payloadType` | String | **Required** | 이송 대상 자재의 유형 (예: `PALLET`, `FOUP`, `TRAY`) |\n| `quantity` | String | Optional | 자재의 수량 (문자열 형식의 숫자) |\n| `param` | String | Optional | 명령 수행에 필요한 추가 파라미터 (기본값: `\"0\"`) |\n| `repeatCount` | Integer | Optional | 명령 반복 횟수 (기본값: `1`) |\n| `repeatDelay` | Integer | Optional | 반복 수행 시 명령 간 대기 시간 (단위: 초, 기본값: `0`) |\n\n**3. 사용 사례 (Use Case)**\n이 API는 다음과 같은 BMA 공정 시나리오에서 주로 사용된다:\n*   **긴급 자재 이송:** 상위 시스템(MES/WMS)의 자동 지시 없이, 현장 작업자가 HMI를 통해 긴급하게 자재를 특정 설비로 투입해야 하는 경우.\n*   **설비 시운전 및 테스트:** 특정 Station으로의 AMR 진입/진출 정밀도를 테스트하기 위해, 동일한 이동 명령을 `repeatCount`를 설정하여 10회 이상 연속 반복 수행시키는 경우.\n*   **예외 상황 처리:** 공정 에러로 인해 자동 배차가 실패했을 때, 관제실에서 수동으로 로봇을 호출하여 자재를 회수하거나 재배치하는 경우.\n\n**4. 요청 예시 (Request Body Example)**\n다음은 `STATION_P001` 위치로 `PALLET` 유형의 자재 이송을 1회 요청하는 JSON 예시이다.\n\n```json\n{\n  \"id\": \"MANUAL_REQ_20231027_05\",\n  \"code\": \"CMD_MOVE_LOAD\",\n  \"place\": \"STATION_P001\",\n  \"payloadType\": \"PALLET\",\n  \"quantity\": \"1\",\n  \"param\": \"0\",\n  \"repeatCount\": 1,\n  \"repeatDelay\": 0\n}\n```\n\n**5. 응답 예시 (Response Example)**\n요청이 성공적으로 MCS 큐(Queue)에 등록되었을 때의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Manual call created successfully\"\n}\n```",
        "questions": [
            "MCS(Material Control System)의 '수동 호출 생성(Create Manual Call) API'의 명세와 활용 시나리오 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "수동 호출 API가 MCS의 자동 스케줄링 로직을 우회하여 AMR에 명령을 전달하는 작동 원리와, 반복 수행(Loop Test) 설정 시 시스템적 상호작용을 공학적으로 분석하시오.",
            "긴급 자재 이송 및 공정 에러로 인한 자동 배차 실패 상황 발생 시, 수동 호출 시스템의 논리적 판단 과정과 예외 처리를 위한 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 12,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 5. PUT /api/Command/manualcommand\n\n수동 명령을 생성합니다.\n\n**Endpoint:** `PUT /api/Command/manualcommand`\n\n**Request Body:**\n```json\n{\n  \"id\": \"MANUAL_CMD_001\",\n  \"subject\": \"MOVE\",\n  \"start\": \"P001\",\n  \"dest\": \"P002\",\n  \"robot\": \"AMR_001\",\n  \"code\": \"MANUAL_MOVE_001\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Manual command created successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 수동으로 명령을 생성합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- subject: 명령 종류 (MOVE, CHARGE, DOCK 등)\n\n---\n\n",
        "textbook": "## [API] 수동 명령 생성 (Create Manual Command)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/manualcommand` API는 MCS(Material Control System)의 자동 스케줄링 로직을 우회하여, 운영자가 특정 AMR(Autonomous Mobile Robot)에게 직접적인 작업을 지시할 때 사용된다. 이 API는 로봇의 이동(MOVE), 충전(CHARGE), 도킹(DOCK) 등의 단일 작업을 즉시 할당하며, 생성된 명령의 추적을 위해 고유 ID와 작업 코드를 포함한다.\n\n**2. 기술 명세 (Technical Specification)**\n\n*   **Endpoint:** `/api/Command/manualcommand`\n*   **Method:** `PUT`\n*   **Content-Type:** `application/json`\n*   **Authentication:**\n    *   **Header:** `Authorization: Bearer {Access_Token}`\n    *   *Note:* 명령을 생성한 사용자(Operator)의 신원은 JWT Token에서 자동으로 추출되어 로깅된다.\n\n*   **Body Parameters:**\n\n| Parameter | Type | Required | Description |\n| :--- | :--- | :--- | :--- |\n| `id` | String | **Yes** | 명령을 식별하기 위한 고유 ID (예: UUID 또는 시스템 생성 시퀀스) |\n| `subject` | String | **Yes** | 명령의 유형 (Enum: `MOVE`, `CHARGE`, `DOCK`, `LIFT_UP`, `LIFT_DOWN` 등) |\n| `start` | String | **Yes** | 작업 시작 노드 또는 현재 위치 ID |\n| `dest` | String | **Yes** | 작업의 목적지 노드 ID |\n| `robot` | String | **Yes** | 명령을 수행할 대상 AMR의 하드웨어 ID |\n| `code` | String | **Yes** | 작업 관리 코드 또는 시나리오 코드 (예: 수동 작업 분류용 코드) |\n\n**3. 사용 사례 (Use Cases)**\n\n*   **시나리오 1: 설비 유지보수를 위한 강제 이동**\n    *   특정 AMR(`AMR_005`)에 하드웨어 점검이 필요하여, 자동 운송 작업을 중단시키고 정비 구역(`MAINTENANCE_ZONE_01`)으로 즉시 이동시켜야 하는 경우.\n*   **시나리오 2: 배터리 부족 긴급 대응**\n    *   시스템 자동 충전 임계값에 도달하지 않았으나, 장시간 대기가 예상되어 운영자가 수동으로 충전 스테이션(`CHG_STATION_02`)으로 이동(`CHARGE`) 명령을 내리는 경우.\n*   **시나리오 3: 교착 상태(Deadlock) 해소**\n    *   좁은 통로에서 다수의 로봇이 대치 중일 때, 특정 로봇을 임의의 대피 노드(`WAIT_NODE_10`)로 이동시켜 경로를 확보하는 경우.\n\n**4. 요청 예시 (Request Body Example)**\n\n다음은 `AMR_001` 로봇에게 `P001`에서 `P002`로 이동하라는 수동 명령을 내리는 JSON 예시이다.\n\n```json\n{\n  \"id\": \"MANUAL_CMD_20231027_001\",\n  \"subject\": \"MOVE\",\n  \"start\": \"P001\",\n  \"dest\": \"P002\",\n  \"robot\": \"AMR_001\",\n  \"code\": \"MANUAL_OP_URGENT\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n\n요청이 성공적으로 MCS 큐에 등록되었을 때의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Manual command created successfully\"\n}\n```",
        "questions": [
            "MCS(Material Control System) 내에서 운영자가 AMR에게 직접 작업을 지시하는 '수동 명령 생성(Create Manual Command) API' 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "수동 명령 API 호출 시 전달되는 파라미터가 MCS의 명령 큐(Queue)에 등록되고, 실제 AMR 하드웨어 제어로 이어지는 과정에서의 데이터 흐름과 시스템적 상호작용을 공학적으로 분석하시오.",
            "설비 유지보수, 배터리 긴급 대응, 교착 상태(Deadlock) 등 예외 상황 발생 시 수동 명령 API가 자동 스케줄링 로직을 우회하여 시스템을 정상화하는 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 13,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## CommandController. AMR 명령 및 시스템 제어 명령을 처리하는 API입니다.\n### 6. PUT /api/Command/retrycommand\n\n명령을 재시도합니다.\n\n**Endpoint:** `PUT /api/Command/retrycommand`\n\n**Request Body:**\n```json\n{\n  \"id\": \"RETRY_REQ_001\",\n  \"mission\": \"CMD_20250319_001\",\n  \"robot\": \"AMR_002\"\n}\n```\n\n**Response:**\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Command retry initiated successfully\"\n}\n```\n\n**인증:** JWT Token 필요\n\n**설명:**\n- 실패한 명령을 재시도합니다.\n- 사용자 정보는 JWT Token에서 추출됩니다.\n- robot 파라미터로 다른 로봇에 재할당 가능\n\n---\n\n",
        "textbook": "## [API] 명령 재시도 (Retry Command)\n\n**1. 개요 (Overview)**\n`PUT /api/Command/retrycommand` API는 MCS(Material Control System) 내에서 실패했거나 중단된 AMR 제어 명령(Mission)을 다시 실행하기 위한 인터페이스이다. 단순한 재실행뿐만 아니라, **대상 로봇을 변경하여 작업을 재할당(Reassignment)** 할 수 있는 기능을 포함하고 있어, 특정 로봇의 하드웨어 고장 시 대체 로봇을 투입하는 공정 복구(Recovery) 시나리오의 핵심 API로 정의된다.\n\n**2. 요청 명세 (Request Specification)**\n\n*   **Endpoint:** `/api/Command/retrycommand`\n*   **Method:** `PUT`\n*   **Content-Type:** `application/json`\n*   **Header:**\n    *   `Authorization`: `Bearer {JWT_TOKEN}` (필수, 유효한 사용자/시스템 토큰)\n\n*   **Body Parameters:**\n\n| 파라미터 명 | 타입 (Type) | 필수 여부 | 설명 (Description) |\n| :--- | :--- | :--- | :--- |\n| `id` | String | **Required** | 요청 추적을 위한 고유 트랜잭션 ID (Request ID). |\n| `mission` | String | **Required** | 재시도할 대상이 되는 원본 명령(Mission)의 고유 ID. |\n| `robot` | String | **Required** | 명령을 수행할 대상 로봇(AMR)의 ID. <br>*(참고: 원본 명령을 수행하던 로봇과 다른 ID를 입력할 경우, 해당 로봇으로 작업이 이관됨)* |\n\n**3. 사용 사례 (Use Case)**\n\n이 API는 BMA 공정 중 다음과 같은 예외 상황 처리에 주로 사용된다.\n\n*   **시나리오 1: 하드웨어 고장 시 대체 로봇 투입 (Failover)**\n    *   상황: `AMR_001`이 자재 운송 중 리프트 고장으로 에러 상태가 됨.\n    *   조치: 관제 시스템이 이를 감지하고, 대기 중인 `AMR_002`를 지정하여 `mission`을 재할당. 이를 통해 전체 공정 라인의 정지(Downtime)를 방지함.\n*   **시나리오 2: 일시적 통신 오류 복구**\n    *   상황: 특정 구역(음영 지역)에서 명령 수신 타임아웃이 발생하여 작업이 실패 처리됨.\n    *   조치: 동일한 `robot` ID로 재시도 명령을 전송하여 작업을 재개시킴.\n\n**4. 요청 예시 (Request Body Example)**\n\n다음은 `CMD_20250319_001` 미션을 `AMR_002` 로봇에게 재할당하여 실행하는 JSON 요청 예시이다.\n\n```json\n{\n  \"id\": \"RETRY_REQ_20250319_05\",\n  \"mission\": \"CMD_20250319_001\",\n  \"robot\": \"AMR_002\"\n}\n```\n\n**5. 응답 예시 (Response Example)**\n\n요청이 성공적으로 MCS 큐에 등록되었을 때의 응답이다.\n\n```json\n{\n  \"Result\": true,\n  \"Message\": \"Command retry initiated successfully\"\n}\n```",
        "questions": [
            "MCS(Material Control System) 내에서 실패한 명령을 복구하고 재할당하는 '명령 재시도(Retry Command) API'의 사양과 운영 전략에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "재시도 명령 시 전달되는 트랜잭션 ID, 미션 ID, 로봇 ID 파라미터가 MCS의 작업 큐(Queue) 및 로봇 제어 계층과 어떻게 상호작용하여 실시간 작업 이관을 구현하는지 그 메커니즘을 공학적으로 분석하시오.",
            "AMR의 하드웨어 고장 또는 통신 음영 지역으로 인한 명령 실패 상황 발생 시, 시스템이 대체 로봇을 선정하고 공정 다운타임을 최소화하기 위해 판단하는 논리적 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 14,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 공통 정보\n### 인증\n- JWT(JSON Web Token) 기반 인증을 사용합니다.\n- 인증이 필요한 API는 요청 헤더에 JWT Token을 포함해야 합니다.\n- Token에서 사용자 정보(UserId)를 추출하여 사용합니다.\n\n",
        "textbook": "## MCS.Backend API 기술 명세서: 공통 아키텍처 및 인증\n\n## [System] MCS Backend API 개요 및 인증 표준\n\n**1. 개요 (Overview)**\nMCS(Material Control System) Backend API는 공장 내 자재 흐름을 관리하고 **AMR(Autonomous Mobile Robot)** 시스템을 실시간으로 제어 및 모니터링하기 위한 RESTful 인터페이스 집합이다. 본 시스템은 무상태(Stateless) 아키텍처를 지향하며, 모든 트랜잭션은 **JWT(JSON Web Token)** 기반의 보안 프로토콜을 통해 인가된 사용자(또는 시스템 에이전트)에 의해서만 수행된다.\n\n**2. 기술 상세 (Technical Details)**\n모든 API 요청은 아래의 공통 규격을 준수해야 한다.\n\n*   **Protocol:** HTTP/1.1 (RESTful)\n*   **Data Format:** JSON (application/json)\n*   **Authentication Mechanism:**\n    *   **Type:** JWT (JSON Web Token)\n    *   **Header Key:** `Authorization`\n    *   **Header Value Format:** `Bearer {Access_Token}`\n    *   **Identity Extraction:** 서버는 수신된 Token의 Payload를 디코딩하여 `UserId`를 추출하고, 이를 통해 요청 주체의 권한을 검증한다.\n\n**3. 사용 사례 (Use Case)**\n이 인증 표준은 로그인(Token 발급)을 제외한 **모든 보호된 리소스(Protected Resources) 접근 시** 필수적으로 적용된다.\n*   **시나리오 예시:**\n    1.  **작업자 개입:** 운영자가 HMI를 통해 특정 AMR의 에러를 리셋하려 할 때, 프론트엔드 클라이언트는 로그인 시 발급받은 JWT를 헤더에 실어 요청을 보낸다.\n    2.  **시스템 연동:** 상위 시스템(MES/WMS)이 자재 운송 명령을 내릴 때, 사전에 발급된 시스템 계정용 토큰을 사용하여 API를 호출한다.\n\n**4. 요청 예시 (Standard Request Format)**\n모든 API 호출 시 아래와 같이 HTTP Header에 인증 정보를 포함해야 한다.\n\n```http\nPOST /api/{endpoint} HTTP/1.1\nHost: mcs-backend.local\nContent-Type: application/json\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJBRE1JTl8wMSIsImV4cCI6MTcxNDQ...\n```\n\n**5. 클라이언트 구현 가이드 (Client Implementation Guide)**\n클라이언트(Web, Mobile, Agent)는 API 호출 시 다음의 JSON 구조를 참조하여 헤더를 구성해야 한다. (Body는 개별 API 명세에 따름)\n\n```json\n// Axios 또는 Fetch API 사용 시 Header 설정 예시\n{\n  \"headers\": {\n    \"Authorization\": \"Bearer <YOUR_JWT_TOKEN>\",\n    \"Content-Type\": \"application/json\"\n  },\n  \"method\": \"POST\", // or GET, PUT, DELETE\n  \"body\": {\n    // 개별 API별 Payload가 이곳에 위치함\n  }\n}\n```\n\n---\n\n**[요청]**\n현재 제공해주신 정보는 **공통 헤더 및 인증 정보**입니다.\n상세한 API 명세서 작성을 위해, **개별 API Endpoint 정보(예: 작업 생성, 로봇 상태 조회, 이동 명령 등)**를 입력해주시면 위 양식에 맞춰 상세 문서를 작성해 드리겠습니다.",
        "questions": [
            "MCS(Material Control System) Backend API의 공통 아키텍처 및 JWT 기반 인증 표준 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "무상태(Stateless) 아키텍처 환경에서 JWT 토큰의 Payload 디코딩을 통한 UserId 추출 및 권한 검증 프로세스가 전체 시스템 보안 및 데이터 무결성 유지와 어떻게 상호작용하는지 공학적으로 분석하시오.",
            "유효하지 않은 토큰 사용이나 인가되지 않은 리소스 접근 시도 상황 발생 시, 서버 측의 권한 검증 로직이 판단하는 단계별 거부 과정과 시스템의 보안 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 15,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 공통 정보\n### 응답 형식\n- 모든 응답은 JSON 형식입니다.\n- Content-Type: `application/json`\n- Encoding: `UTF-8`\n- Formatting: `Indented` (가독성을 위한 들여쓰기)\n\n",
        "textbook": "## MCS.Backend API 기술 명세서 (Technical Specification)\n\n## [Section 0] 공통 아키텍처 및 데이터 규약 (General Conventions)\n\n**1. 개요 (Overview)**\nMCS.Backend API는 공장 내 물류 제어 시스템(MCS)과 자율 주행 로봇(AMR) 간의 통신을 중개하는 RESTful 인터페이스이다. 본 문서는 시스템 내 모든 Endpoint가 준수해야 할 데이터 교환 형식, 인코딩 표준 및 응답 구조에 대한 공통 규약을 정의한다.\n\n**2. 기술 상세 (Technical Details)**\n모든 API 요청 및 응답은 아래의 기술 표준을 엄격히 준수해야 한다.\n\n- **Architecture Style:** RESTful API\n- **Communication Protocol:** HTTP/1.1 or HTTP/2\n- **Data Serialization:** JSON (JavaScript Object Notation)\n- **Header Configuration:**\n  - `Content-Type`: `application/json` (필수)\n  - `Accept`: `application/json` (권장)\n- **Character Encoding:** `UTF-8`\n  - 다국어 처리 및 특수 문자(좌표계 기호 등)의 깨짐 방지를 위해 UTF-8 인코딩을 강제한다.\n- **Formatting:** `Indented` (Pretty-print)\n  - 디버깅 및 로그 가독성을 위해 응답 본문(Body)은 들여쓰기(Indentation)가 적용된 형태로 반환된다.\n\n**3. 사용 사례 (Use Case)**\n이 공통 규약은 다음과 같은 모든 BMA 공정 시나리오에 적용된다.\n- **AMR 제어:** 로봇 이동, 정지, 리셋 명령 시 Payload 전송.\n- **모니터링:** 실시간 로봇 위치, 배터리 상태, 에러 로그 조회.\n- **시스템 통합:** 상위 시스템(MES/WMS)과의 데이터 동기화.\n\n개발자 및 클라이언트 에이전트는 모든 HTTP 요청 시 `Content-Type: application/json` 헤더를 포함해야 하며, 응답 파싱 시 JSON 포맷을 기대해야 한다.\n\n**4. 공통 응답 예시 (Generic Response Example)**\n모든 API 응답은 아래와 같이 `UTF-8`로 인코딩되고 `Indented` 된 JSON 형식을 따른다. (아래는 표준적인 성공 응답의 구조 예시이다.)\n\n```json\n{\n  \"meta\": {\n    \"code\": 200,\n    \"message\": \"OK\",\n    \"timestamp\": \"2023-10-27T10:00:00Z\"\n  },\n  \"data\": {\n    \"systemStatus\": \"Running\",\n    \"activeRobots\": 5,\n    \"description\": \"모든 응답은 이와 같이 들여쓰기(Indentation)가 적용되어 반환됩니다.\"\n  }\n}\n```\n\n---\n**[참고]** 현재 입력된 데이터는 **공통 정보**뿐입니다. 특정 기능(예: 로봇 이동, 상태 조회 등)에 대한 API 명세가 필요하다면, 해당 Endpoint 정보를 추가로 입력해 주십시오.",
        "questions": [
            "MCS.Backend API의 공통 아키텍처 설계 원칙과 데이터 교환 규약 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "RESTful 인터페이스 기반의 통신 프로토콜에서 JSON 데이터 직렬화 및 UTF-8 인코딩 방식이 시스템의 다국어 처리 및 데이터 무결성에 기여하는 작동 원리와 시스템적 상호작용을 공학적으로 분석하시오.",
            "API 요청 시 필수 헤더 미포함 또는 인코딩 불일치 상황 발생 시 시스템의 논리적 판단 과정과 응답 구조(Meta Data)를 통한 단계별 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 16,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 공통 정보\n### HTTP 상태 코드\n- `200 OK`: 요청이 성공적으로 처리됨\n- 기타 상태 코드는 인증 실패 등의 경우 반환될 수 있음\n\n",
        "textbook": "## MCS (Material Control System) Backend API 기술 명세서\n\n## 1. 시스템 개요 (System Overview)\n**MCS Backend API**는 물류 제어 시스템(MCS)의 핵심 인터페이스로, 현장에 배치된 **AMR(Autonomous Mobile Robot)** 군집을 중앙에서 제어하고 실시간으로 모니터링하기 위해 설계되었다. 본 API는 **RESTful 아키텍처**를 기반으로 하며, 상위 시스템(WMS/MES) 또는 운영 클라이언트가 로봇에게 작업을 할당하거나 상태를 추적하는 표준 통신 채널을 제공한다.\n\n## 2. 인터페이스 공통 규약 (Common Interface Standards)\n\n### 2.1 아키텍처 스타일 (Architecture Style)\n- **Protocol:** HTTP/1.1 over TCP/IP\n- **Architecture:** RESTful API\n- **Data Format:** JSON (JavaScript Object Notation) - 요청 및 응답 본문\n\n### 2.2 HTTP 상태 코드 (HTTP Status Codes)\n본 시스템은 표준 HTTP 상태 코드를 사용하여 요청의 처리 결과를 반환한다. 클라이언트는 응답의 `Status Code`를 통해 성공 여부를 1차적으로 판단해야 한다.\n\n| Status Code | Description | 의미 및 처리 가이드 |\n|:---:|:---:|:---|\n| **200** | **OK** | **요청 성공.** 서버가 요청을 정상적으로 수신하고 처리를 완료했음을 의미한다. (GET, PUT, POST 등) |\n| **401** | **Unauthorized** | **인증 실패.** 유효하지 않은 토큰이거나 인증 헤더가 누락됨. 재로그인 또는 토큰 갱신 필요. |\n| **403** | **Forbidden** | **권한 없음.** 인증은 되었으나 해당 리소스에 접근할 권한이 없음. |\n| **400** | **Bad Request** | **잘못된 요청.** 필수 파라미터 누락 또는 데이터 형식 오류. |\n| **500** | **Internal Server Error** | **서버 내부 오류.** 서버 측 로직 에러 발생. 관리자 문의 필요. |\n\n---\n\n## [요청] 추가 데이터 필요\n**수석 소프트웨어 아키텍트의 제언:**\n현재 제공된 데이터는 API의 '서문'에 해당합니다. 개발자와 에이전트가 실제로 사용할 수 있는 문서를 완성하기 위해, 아래와 같은 **구체적인 API Endpoint 정보**를 추가로 입력해 주십시오.\n\n**추가 입력이 필요한 정보 예시:**\n- `POST /api/mission/assign` (작업 할당)\n- `GET /api/robot/status` (로봇 상태 조회)\n- `PUT /api/control/pause` (일시 정지)\n\n**데이터를 추가로 제공해 주시면, 즉시 상세 명세서(Endpoint, Body Syntax, JSON Example 포함)를 작성해 드리겠습니다.**",
        "questions": [
            "MCS(Material Control System) Backend API의 설계 원칙과 RESTful 아키텍처 기반의 인터페이스 공통 규약 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "상위 시스템(WMS/MES)과 AMR 군집 간의 데이터 교환 과정에서 JSON 데이터 포맷과 HTTP 상태 코드가 시스템적 상호작용을 최적화하는 공학적 원리를 분석하시오.",
            "인증 실패(401) 및 권한 부족(403) 상황 발생 시 보안 계층에서 수행되는 논리적 판단 과정과 시스템의 단계별 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 17,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 공통 정보\n### 비동기 처리\n- `ObjectController`의 대부분의 GET 메서드는 비동기(`async/await`)로 처리됩니다.\n- 대용량 데이터 조회 시에도 서버 성능에 영향을 최소화합니다.\n\n",
        "textbook": "## [System] MCS Backend 공통 기술 명세서\n\n## 1. 시스템 개요 (System Overview)\nMCS(Material Control System) Backend는 공장 내 자재 흐름을 제어하고 AMR(Autonomous Mobile Robot) 시스템을 통합 관리하기 위한 RESTful API 서버이다. 본 문서는 `ObjectController`를 포함한 주요 모듈의 비동기 처리 표준과 데이터 조회 원칙을 정의한다.\n\n## 2. 아키텍처 표준: 비동기 데이터 처리 (Async Data Processing)\n\n**2.1. 정의 (Definition)**\n`ObjectController` 및 데이터 조회와 관련된 모든 GET 메서드는 **비동기(Asynchronous, `async/await`)** 패턴을 기반으로 구현된다. 이는 I/O 바운드 작업 시 스레드 차단을 방지하고 서버의 처리량(Throughput)을 극대화하기 위함이다.\n\n**2.2. 기술적 상세 (Technical Details)**\n- **적용 범위:** `ObjectController` 내의 모든 조회용 Endpoint (List, Detail, Status Check 등).\n- **구현 원칙:**\n  - 데이터베이스 쿼리 및 외부 시스템 통신 시 반드시 `await` 키워드를 사용하여 비동기 호출한다.\n  - 대용량 데이터(Bulk Data) 조회 시 페이징(Paging) 또는 스트리밍 처리를 권장하나, 기본적으로 비동기 처리를 통해 응답 지연(Latency)이 전체 시스템의 병목이 되지 않도록 설계한다.\n- **HTTP Status Code:**\n  - `200 OK`: 요청 성공 및 데이터 반환.\n  - `202 Accepted`: (배치 작업 등) 요청은 접수되었으나 처리가 완료되지 않음 (필요 시).\n\n**2.3. 사용 사례 (Use Case)**\n- **대규모 AMR 모니터링:** 수백 대 이상의 AMR 로봇 상태(배터리, 위치, 에러 코드)를 관제 시스템(Dashboard)에서 1초 단위로 폴링(Polling)할 때, 서버 스레드 고갈(Thread Starvation) 없이 안정적인 응답을 제공한다.\n- **히스토리 분석:** 과거 1개월 치의 주행 로그나 에러 이력을 조회할 때, 다른 실시간 제어 명령(Command) 처리에 영향을 주지 않고 데이터를 반환한다.\n\n---\n\n## 3. [API] 객체 목록 비동기 조회 (Get Objects Async)\n\n*주: 입력된 공통 정보를 바탕으로 `ObjectController`의 표준 조회 API를 구체화한 명세입니다.*\n\n**1. 개요**\n`GET /api/objects` API는 시스템에 등록된 모든 관리 객체(AMR, Port, Charger 등)의 최신 상태 정보를 비동기적으로 조회한다. 대용량 데이터 처리에 최적화되어 있다.\n\n**2. 요청 명세 (Request Specification)**\n- **Endpoint:** `/api/objects`\n- **Method:** `GET`\n- **Header:**\n  - `Content-Type: application/json`\n  - `Authorization: Bearer {Token}`\n- **Query Parameters (Optional):**\n  - `type` (String): 객체 유형 필터 (예: `AMR`, `CHARGER`).\n  - `status` (String): 상태 필터 (예: `IDLE`, `BUSY`, `ERROR`).\n- **Body:** None (GET 요청은 Body를 포함하지 않음)\n\n**3. 응답 예시 (Response Example)**\n*비동기 처리를 통해 반환되는 표준 JSON 응답 구조이다.*\n\n```json\n{\n  \"meta\": {\n    \"timestamp\": \"2023-10-27T10:00:00Z\",\n    \"totalCount\": 2,\n    \"processingType\": \"Async\"\n  },\n  \"data\": [\n    {\n      \"id\": \"AMR_001\",\n      \"type\": \"AMR\",\n      \"status\": \"RUNNING\",\n      \"position\": {\n        \"x\": 150.5,\n        \"y\": 200.0,\n        \"theta\": 90.0\n      },\n      \"batteryLevel\": 85,\n      \"currentTask\": \"TASK_1023\"\n    },\n    {\n      \"id\": \"AMR_002\",\n      \"type\": \"AMR\",\n      \"status\": \"IDLE\",\n      \"position\": {\n        \"x\": 10.0,\n        \"y\": 50.0,\n        \"theta\": 0.0\n      },\n      \"batteryLevel\": 40,\n      \"currentTask\": null\n    }\n  ]\n}\n```",
        "questions": [
            "MCS(Material Control System) Backend의 비동기 데이터 처리 표준 및 ObjectController의 API 명세 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "ObjectController 내 GET 메서드에 적용된 async/await 비동기 패턴이 대규모 AMR 상태 모니터링 시 서버 스레드 고갈을 방지하고 처리량을 극대화하는 작동 원리와 시스템적 상호작용을 공학적으로 분석하시오.",
            "대용량 히스토리 데이터 조회나 고빈도 폴링 상황 발생 시, 비동기 처리 로직이 실시간 제어 명령의 병목 현상을 차단하고 시스템 안정성을 유지하는 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 18,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 공통 정보\n### 캐싱\n- `callplaces` API는 1.5초 캐싱을 적용하여 PLC 조회 부하를 줄입니다.\n\n\n",
        "textbook": "## MCS (Material Control System) Backend API 기술 명세서\n\n## 1. 시스템 개요 (System Overview)\nMCS Backend API는 **AMR(Autonomous Mobile Robot)** 시스템의 통합 제어 및 실시간 모니터링을 수행하기 위한 RESTful 인터페이스 집합이다. 본 시스템은 상위 시스템(MES/WMS)과 하위 제어 설비(PLC) 간의 미들웨어 역할을 수행하며, 자재 흐름(Material Flow)을 최적화하는 것을 목적으로 한다.\n\n## 2. 아키텍처 정책: 데이터 캐싱 (Architecture Policy: Caching)\n\n**1. 정의 (Definition)**\nPLC(Programmable Logic Controller)와 같은 하위 하드웨어 제어기와의 통신 부하를 최소화하기 위해, 빈번한 조회가 발생하는 특정 API에 대해 **서버 측 캐싱(Server-side Caching)** 전략을 적용한다.\n\n**2. 기술적 상세 (Technical Details)**\n- **적용 대상:** `callplaces` (호출 위치 조회) API 및 고빈도 조회 엔드포인트.\n- **캐시 수명(TTL):** **1.5초 (1500ms)**\n- **동작 원리:**\n  1. 클라이언트가 API를 호출하면 서버는 메모리 캐시를 확인한다.\n  2. 마지막 PLC 조회 시점으로부터 1.5초가 경과하지 않았다면, PLC를 다시 조회하지 않고 **캐시된 이전 데이터**를 즉시 반환한다.\n  3. 1.5초가 경과했다면, PLC로부터 최신 데이터를 조회(Read)하여 캐시를 갱신한 후 반환한다.\n\n**3. 사용 사례 (Use Case)**\n- **시나리오:** 다수의 AMR 에이전트나 모니터링 대시보드가 `callplaces` API를 0.5초 단위로 폴링(Polling)하는 상황.\n- **효과:** 실제 PLC에 가해지는 조회 요청 횟수를 제한하여, 하드웨어 통신 과부하로 인한 타임아웃이나 제어 지연(Latency)을 방지한다.\n\n---\n\n## [API] 호출 위치 조회 (Get Call Places)\n\n**1. 개요**\n`GET /api/callplaces` API는 현재 자재 운송 요청(Call)이 발생한 위치(Place)들의 목록과 상태 정보를 조회한다. 이 API는 상기 기술된 **1.5초 캐싱 정책**이 적용되어 있어, 연속 호출 시 데이터 갱신에 미세한 지연이 있을 수 있음을 고려해야 한다.\n\n**2. 요청 명세 (Request Specification)**\n- **Endpoint:** `/api/callplaces`\n- **Method:** `GET`\n- **Header:**\n  - `Content-Type`: `application/json`\n  - `Authorization`: `Bearer {Token}` (권장)\n- **Query Parameters (Optional):**\n  - `zone_id` (String): 특정 구역(Zone) 내의 호출 위치만 필터링할 경우 사용.\n\n**3. 응답 명세 (Response Specification)**\n응답은 호출 위치 객체의 배열을 반환하며, 각 객체는 PLC로부터 수집된 최신(또는 캐시된) 상태 값을 포함한다.\n\n**4. 요청 및 응답 예시 (Example)**\n\n**Request (GET)**\n```http\nGET /api/callplaces?zone_id=Z_A01 HTTP/1.1\nHost: mcs-backend.local\nAuthorization: Bearer eyJhbGciOiJIUzI1Ni...\n```\n\n**Response (JSON)**\n```json\n{\n  \"meta\": {\n    \"timestamp\": \"2023-10-27T14:30:01.500Z\",\n    \"cached\": true,\n    \"cache_age_ms\": 450\n  },\n  \"data\": [\n    {\n      \"place_id\": \"LOC_101\",\n      \"status\": \"ACTIVE\",\n      \"request_type\": \"PICKUP\",\n      \"priority\": 1,\n      \"plc_signal_address\": \"D1000\"\n    },\n    {\n      \"place_id\": \"LOC_105\",\n      \"status\": \"IDLE\",\n      \"request_type\": \"NONE\",\n      \"priority\": 0,\n      \"plc_signal_address\": \"D1005\"\n    }\n  ]\n}\n```\n*(주: `meta.cached` 필드를 통해 현재 응답이 캐시된 데이터인지 여부를 확인할 수 있도록 구현하는 것을 권장함)*",
        "questions": [
            "AMR 통합 제어 및 실시간 모니터링을 위한 'MCS(Material Control System) Backend API'의 아키텍처 설계와 데이터 캐싱 전략 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "PLC 하드웨어의 통신 부하를 최소화하기 위한 서버 측 캐싱(Server-side Caching)의 동작 원리와, API 엔드포인트와 하위 제어기 간의 데이터 흐름 및 시스템적 상호작용을 공학적으로 분석하시오.",
            "다수의 에이전트가 고빈도 폴링(Polling)을 수행하는 상황에서 발생할 수 있는 제어 지연(Latency) 문제와, 이를 방지하기 위한 캐시 수명(TTL) 설정 및 데이터 갱신 로직의 논리적 판단 과정과 대응 메커니즘을 서술하시오."
        ]
    },
    {
        "id": 19,
        "preprocessed_group": "# MCS.Backend API 문서. MCS(Material Control System) Backend API 문서입니다. 이 API는 AMR(Autonomous Mobile Robot) 시스템을 제어하고 모니터링하기 위한 RESTful API를 제공합니다.\n## 참고사항\n- 일부 조회 API(places, Call, Mission)는 인증 로직이 구현되어 있지 않아 인증 없이 접근 가능합니다.\n- 마지막 업데이트: 2025-03-19\n- DockRequest 필드 추가 (Docking Out 상태 표시용)\n",
        "textbook": "## MCS.Backend API 기술 명세서 (Technical Specification)\n\n**문서 버전:** 2025-03-19 Update\n**대상 시스템:** MCS (Material Control System) Backend\n**담당자:** 수석 소프트웨어 아키텍트\n\n---\n\n## 1. 시스템 개요 (System Overview)\n본 API는 BMA(Battery Manufacturing Automation) 공정 내 **AMR(Autonomous Mobile Robot)** 시스템을 제어하고 모니터링하기 위한 RESTful 인터페이스를 제공한다. 외부 시스템(MES, WMS) 및 운영 클라이언트는 이 API를 통해 로봇의 위치 파악, 작업 할당(Mission), 호출(Call) 등의 명령을 수행한다.\n\n### 1.1 보안 및 인증 정책 (Security & Authentication)\n- **기본 정책:** 대부분의 제어 명령 API는 보안 토큰(Bearer Token) 기반의 인증을 요구한다.\n- **예외 정책 (주의):** 시스템 모니터링 및 긴급 호출의 편의성을 위해 아래 조회/요청 API는 **인증 없이(Anonymous)** 접근 가능하다.\n  - `places` (위치 정보 조회)\n  - `Call` (로봇 호출)\n  - `Mission` (작업 할당 및 조회)\n- **권고 사항:** 상기 예외 API는 사내 폐쇄망(Intranet) 내에서만 호출되도록 네트워크 레벨의 방화벽 정책 수립을 권장한다.\n\n---\n\n## 2. API 상세 명세 (API Detailed Specifications)\n\n### [API] 위치 정보 조회 (Get Places)\n\n**1. 정의 (Definition)**\n`GET /api/places` API는 공장 내 정의된 모든 노드(Node), 스테이션(Station), 충전소 등의 위치 정보를 반환한다. 인증 없이 접근 가능하며, 주로 관제 시스템의 맵(Map) 시각화나 경로 계획(Path Planning) 기초 데이터로 사용된다.\n\n**2. 기술적 상세 (Technical Details)**\n- **Endpoint:** `/api/places`\n- **Method:** `GET`\n- **Header:** `Content-Type: application/json` (인증 불필요)\n- **Query Parameters:**\n  - `floor` (String, Optional): 특정 층(Floor)의 데이터만 필터링할 경우 사용.\n\n**3. 사용 사례 (Use Case)**\n- **시각화:** 대시보드 UI에서 로봇이 이동 가능한 경로와 목적지(Station)를 렌더링할 때 호출.\n- **유효성 검증:** 작업 지시 전, 목적지 ID가 유효한지 검증하기 위해 마스터 데이터를 동기화할 때 사용.\n\n**4. 응답 예시 (Response Body Example)**\n```json\n{\n  \"timestamp\": \"2025-03-19T14:00:00Z\",\n  \"places\": [\n    {\n      \"id\": \"ST_101\",\n      \"type\": \"Station\",\n      \"name\": \"Assembly_Input_A\",\n      \"coordinates\": { \"x\": 12.5, \"y\": 45.2, \"theta\": 90.0 },\n      \"properties\": { \"isActive\": true }\n    },\n    {\n      \"id\": \"CHG_01\",\n      \"type\": \"Charger\",\n      \"name\": \"Fast_Charger_1\",\n      \"coordinates\": { \"x\": 0.0, \"y\": 0.0, \"theta\": 0.0 }\n    }\n  ]\n}\n```\n\n---\n\n### [API] 로봇 호출 (Call Robot)\n\n**1. 정의 (Definition)**\n`POST /api/call` API는 특정 위치(Station)로 가용 가능한 AMR을 즉시 호출한다. 인증 로직이 제외되어 있어 물리 버튼(IoT Dash Button)이나 키오스크 등 경량 클라이언트에서 빠르게 통합 가능하다.\n\n**2. 기술적 상세 (Technical Details)**\n- **Endpoint:** `/api/call`\n- **Method:** `POST`\n- **Header:** `Content-Type: application/json` (인증 불필요)\n- **Body Parameters:**\n  - `locationId` (String, Required): 로봇이 도착해야 할 목적지 ID.\n  - `priority` (Integer, Optional): 호출 우선순위 (기본값: 1, 높을수록 긴급).\n\n**3. 사용 사례 (Use Case)**\n- **자재 수거 요청:** 작업자가 공정 라인 끝에서 완제품 적재가 완료되었음을 알리고, 이를 이송할 로봇을 부를 때 사용.\n\n**4. 요청 예시 (Request Body Example)**\n```json\n{\n  \"locationId\": \"ST_PACKING_04\",\n  \"priority\": 5,\n  \"requester\": \"Operator_Kiosk_02\"\n}\n```\n\n---\n\n### [API] 미션 생성 및 제어 (Create Mission)\n\n**1. 정의 (Definition)**\n`POST /api/mission` API는 AMR에게 복합적인 작업(이동, 리프트 동작, 도킹 등)을 지시한다. **2025-03-19 업데이트**를 통해 `DockRequest` 필드가 추가되어, 도킹 해제(Docking Out) 상태를 명시적으로 제어할 수 있게 되었다.\n\n**2. 기술적 상세 (Technical Details)**\n- **Endpoint:** `/api/mission`\n- **Method:** `POST`\n- **Header:** `Content-Type: application/json` (인증 불필요)\n- **Body Parameters:**\n  - `robotId` (String, Optional): 특정 로봇 지정 시 사용 (미지정 시 시스템이 자동 할당).\n  - `tasks` (Array, Required): 수행할 작업 목록.\n  - `DockRequest` (Object, Optional): **[New]** 도킹 관련 세부 제어 파라미터.\n    - `action` (String): `DOCK_IN` 또는 `DOCK_OUT`.\n    - `targetCharger` (String): 대상 충전소 ID.\n\n**3. 사용 사례 (Use Case)**\n- **충전 복귀 및 이탈:** 배터리가 부족한 로봇을 충전소로 보내거나(`DOCK_IN`), 충전이 완료된 로봇을 작업 대기 장소로 출차(`DOCK_OUT`)시킬 때 사용.\n- **자재 이송:** A지점에서 자재를 들어(Lift Up) B지점으로 이동 후 내리는(Lift Down) 일련의 시퀀스 작업.\n\n**4. 요청 예시 (Request Body Example)**\n```json\n{\n  \"missionId\": \"MS_20250319_001\",\n  \"robotId\": \"AMR_05\",\n  \"priority\": 10,\n  \"DockRequest\": {\n    \"action\": \"DOCK_OUT\",\n    \"targetCharger\": \"CHG_01\",\n    \"forceUndock\": true\n  },\n  \"tasks\": [\n    {\n      \"sequence\": 1,\n      \"type\": \"MOVE\",\n      \"destination\": \"ST_BUFFER_ZONE\"\n    }\n  ]\n}\n```",
        "questions": [
            "BMA 공정 내 AMR 제어 및 모니터링을 위한 'MCS Backend API 기술 명세' 전반에 대해 기술 백서 형식으로 상세히 서술하시오.",
            "위치 정보 조회(Places), 로봇 호출(Call), 미션 생성(Mission) API가 전체 물류 자동화 시스템 내에서 데이터 동기화 및 작업 할당을 위해 어떻게 상호작용하는지 그 공학적 흐름을 분석하시오.",
            "보안 인증 예외 정책이 적용된 API 호출 시 발생할 수 있는 보안 취약점과, 이에 대응하기 위한 네트워크 레벨의 방어 로직 및 시스템적 대응 메커니즘을 서술하시오."
        ]
    }
]